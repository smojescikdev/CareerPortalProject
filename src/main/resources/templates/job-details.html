<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Job details</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="/assets/img/favicon.ico">

    <!-- CSS here -->
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/css/flaticon.css">
    <link rel="stylesheet" href="/assets/css/price_rangs.css">
    <link rel="stylesheet" href="/assets/css/slicknav.css">
    <link rel="stylesheet" href="/assets/css/animate.min.css">
    <link rel="stylesheet" href="/assets/css/magnific-popup.css">
    <link rel="stylesheet" href="/assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="/assets/css/themify-icons.css">
    <link rel="stylesheet" href="/assets/css/slick.css">
    <link rel="stylesheet" href="/assets/css/nice-select.css">
    <link rel="stylesheet" href="/assets/css/style.css">


    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/styles2.css}"/>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css} "/>
    <link th:rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.css}"/>


    <style>
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .profile-form-wrapper {
            display: flex;
            gap: 20px;
        }

        .profile-section-left, .profile-section-right {
            flex: 1;
            padding: 20px;
            border-radius: 8px;
            background-color: #f5f5f5;
        }

        .job-header, .job-info, .job-description, .job-actions, .job-apply {
            background-color: #e0e0e0;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .job-header h4, .large-label {
            margin-top: 0;
            color: #333;
        }

        .job-header p {
            margin: 0;
        }

        .profile-section-left h2, .profile-section-right h2 {
            margin-top: 0;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
        }

        .btn-sec {
            display: block;
            text-align: center;
            padding: 10px 20px;
            margin-bottom: 10px;
            color: #fff;
            text-decoration: none;
        }

        .btn-red {
            background-color: #d9534f;
        }

        .btn-red:hover {
            background-color: #c9302c;
        }

        .btn-black {
            background-color: #292b2c;
        }

        .btn-black:hover {
            background-color: #1c1d1e;
        }

        .w-100 {
            width: 100%;
        }
    </style>


</head>

<body>

<!-- HEADER -->
<div th:insert="~{fragments/header :: header}"></div>
<!-- HEADER ENDED -->


<!--NAVBAR  for logged user  ---   START HERE-->
<header>
    <!-- Header Start -->
    <div class="header-area header-transparrent">
        <div class="headder-top header-sticky">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-9 col-md-9">
                        <div class="menu-wrapper">
                            <!-- Main-menu -->
                            <div class="main-menu">
                                <nav class="d-none d-lg-block">
                                    <ul id="navigation">


                                        <li sec:authorize="hasAuthority('Job Seeker')"><a class="nav-link"
                                                                                          th:href="@{/job-listing}"><i
                                                class="fas fa-search"></i> Search for Jobs</a></li>
                                        <li sec:authorize="hasAuthority('Job Seeker')"><a class="nav-link"
                                                                                          th:href="@{/job-seeker/job-seeker-profile/}"><i
                                                class="fa-solid fa-pencil"></i> Edit Job Seeker Profile</a></li>
                                        <li sec:authorize="hasAuthority('Recruiter')"><a class="nav-link"
                                                                                         th:href="@{/dashboard/add}"><i
                                                class="fa-solid fa-file-circle-plus"></i> Post New Job</a></li>
                                        <li sec:authorize="hasAuthority('Recruiter')"><a class="nav-link"
                                                                                         th:href="@{/dashboard/}"><i
                                                class="fa-solid fa-eye"></i>View Your Posted Jobs</a></li>
                                        <li sec:authorize="hasAuthority('Recruiter')"><a class="nav-link"
                                                                                         th:href="@{/recruiter/recruiter-profile/}"><i
                                                class="fa-solid fa-pencil"></i> Edit Job Seeker Profile</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                    <!-- Mobile Menu -->
                    <div class="col-12">
                        <div class="mobile_menu d-block d-lg-none"></div>
                    </div>
                </div>
            </div>
        </div>

        <button class="btn head-btn2 header-btn f-right d-lg-block" onclick="window.location.href='/logout'">Logout
        </button>

    </div>
    <!-- Header End -->
</header>
<!--NAVBAR  for logged user  ---   ENDED HERE-->


<section class="section">
    <article>
        <h2 class="primary-title mt-1">Job Details</h2>
        <div class="container">
            <div class="profile-form-wrapper">

                <div class="profile-section-left">

                    <a href="/job-listing" class="mt-3 ms-3 primary" id="back-link"><i
                            class="fa-solid fa-angle-left me-1"></i> Back to Search Results</a>


                    <div class="job-header ms-3">
                        <h4 th:text="${jobDetails.jobTitle}" class="job-title text-left">JOB TITLE</h4>
                        <div class="mt-1">
                            <p th:text="${jobDetails.postal + ', ' + jobDetails.city+', '+ jobDetails.country}"
                               class="m-0">POSTAL, CITY, COUNTRY</p>
                            <p th:text="${jobDetails.industryForm.getFormName()}">Industry name</p>
                        </div>
                    </div>

                    <div class="box mt-3 job-info">
                        <label class="large-label px-3 mt-3">Job Information:</label>
                        <div class="job-row">
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="text-left">Date Posted: <span th:text="${#dates.format(jobDetails.postedDate, 'yyyy-MM-dd HH:mm')}">12 Nov, 2030</span></label>
                                </div>
                                <div class="col-md-12">
                                    <label>Salary: <span th:text="${jobDetails.salary}">22,00€/h</span></label>
                                </div>
                                <div class="col-md-12">
                                    <label>Type: <span th:text="${jobDetails.jobType}">Full-time</span></label>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="profile-section-right">
                    <div class="px-3 mb-3 job-description">
                        <label class="large-label">Job Description</label>
                        <div th:utext="${jobDetails.descriptionOfJob}"></div>
                    </div>

                    <div class="mt-3 px-3 job-actions" sec:authorize="hasAuthority('Recruiter')">
                        <div class="row">
                            <div class="col-md-6">
                                <form th:action="@{/dashboard/edit/{id}(id=${jobDetails.jobOfferPostId})}" method="get">
                                    <button class="btn-sec btn-red w-100" type="submit">Edit Job</button>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <form th:action="@{/dashboard/delete/confirm/{id}(id=${jobDetails.jobOfferPostId})}"
                                      method="get">
                                    <button class="btn-sec btn-black w-100" type="submit">Delete Job</button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3 px-3 job-apply" sec:authorize="hasAuthority('Job Seeker')">
                        <div class="row">
                            <div class="col-md-12">
                                <a th:if="${recruiterProfile != null}"
                                   th:href="@{'mailto:' + ${recruiterProfile.companyEmail} + '?subject=Aplikacja na ofertę pracy: ' + ${jobDetails.jobTitle} + '&body=Dzień dobry,%0D%0A%0D%0AChciałbym aplikować na tę ofertę pracy. Poniżej zamieszczam swój profil kandydata:%0D%0A%0D%0AImię: ' + ${jobSeekerProfile.firstName} + '%0D%0ANazwisko: ' + ${jobSeekerProfile.lastName} + '%0D%0AEmail: ' + ${jobSeekerProfile.email} + '%0D%0ATelefon: ' + ${jobSeekerProfile.phone} + '%0D%0AData urodzenia: ' + ${jobSeekerProfile.dateOfBirth} + '%0D%0A%0D%0APoziom angielskiego: ' + ${jobSeekerProfile.jobSeekerBasicInformation.englishLanguageLevel} + '%0D%0APoziom niemieckiego: ' + ${jobSeekerProfile.jobSeekerBasicInformation.germanLanguageLevel} + '%0D%0APoziom polskiego: ' + ${jobSeekerProfile.jobSeekerBasicInformation.polishLanguageLevel} + '%0D%0A%0D%0ACzy posiada prawo jazdy: ' + ${jobSeekerProfile.jobSeekerBasicInformation.driverLicense} + '%0D%0ACzy posiada samochód: ' + ${jobSeekerProfile.jobSeekerBasicInformation.carOwner} + '%0D%0A%0D%0AKwalifikacje: ' + ${jobSeekerQualifications} + '%0D%0A%0D%0ARezume: ' + ${jobSeekerProfile.resume} + '%0D%0A%0D%0ADziękuję za rozpatrzenie mojej aplikacji.'}"
                                   class="btn-sec btn-red w-100">Apply</a>
                                <span th:unless="${recruiterProfile != null}">Recruiter profile not found</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </article>
</section>


<!-- FOOTER -->
<div th:insert="~{fragments/footer :: footer}"></div>
<!-- FOOTER ENDED -->

<!-- JS here -->
<!-- All JS Custom Plugins Link Here here -->
<script src="/./assets/js/vendor/modernizr-3.5.0.min.js"></script>
<!-- Jquery, Popper, Bootstrap -->
<script src="/./assets/js/vendor/jquery-1.12.4.min.js"></script>
<script src="/./assets/js/popper.min.js"></script>
<script src="/./assets/js/bootstrap.min.js"></script>
<!-- Jquery Mobile Menu -->
<script src="/./assets/js/jquery.slicknav.min.js"></script>
<!-- Jquery Slick, Owl-Carousel Plugins -->
<script src="/./assets/js/owl.carousel.min.js"></script>
<script src="/./assets/js/slick.min.js"></script>
<script src="/./assets/js/price_rangs.js"></script>
<!-- One Page, Animated-HeadLin -->
<script src="/./assets/js/wow.min.js"></script>
<script src="/./assets/js/animated.headline.js"></script>
<script src="/./assets/js/jquery.magnific-popup.js"></script>
<!-- Scrollup, nice-select, sticky -->
<script src="/./assets/js/jquery.scrollUp.min.js"></script>
<script src="/./assets/js/jquery.nice-select.min.js"></script>
<script src="/./assets/js/jquery.sticky.js"></script>
<!-- contact js -->
<script src="/./assets/js/contact.js"></script>
<script src="/./assets/js/jquery.form.js"></script>
<script src="/./assets/js/jquery.validate.min.js"></script>
<script src="/./assets/js/mail-script.js"></script>
<script src="/./assets/js/jquery.ajaxchimp.min.js"></script>
<!-- Jquery Plugins, main Jquery -->
<script src="/./assets/js/plugins.js"></script>
<script src="/./assets/js/main.js"></script>


<script
        type="text/javascript"
        th:src="@{/webjars/jquery/jquery.min.js}"
></script>
<script
        type="text/javascript"
        th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"
></script>


</body>
</html>
